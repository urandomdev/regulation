// Code generated by ent, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// AccountsColumns holds the columns for the "accounts" table.
	AccountsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "plaid_id", Type: field.TypeString, Unique: true},
		{Name: "name", Type: field.TypeString},
		{Name: "type", Type: field.TypeEnum, Enums: []string{"checking", "savings", "credit", "other"}, Default: "checking"},
		{Name: "subtype", Type: field.TypeString, Nullable: true},
		{Name: "mask", Type: field.TypeString, Nullable: true},
		{Name: "current_balance", Type: field.TypeInt64, Default: 0},
		{Name: "available_balance", Type: field.TypeInt64, Nullable: true},
		{Name: "is_active", Type: field.TypeBool, Default: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "item_id", Type: field.TypeUUID},
		{Name: "user_id", Type: field.TypeUUID},
	}
	// AccountsTable holds the schema information for the "accounts" table.
	AccountsTable = &schema.Table{
		Name:       "accounts",
		Columns:    AccountsColumns,
		PrimaryKey: []*schema.Column{AccountsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "accounts_items_accounts",
				Columns:    []*schema.Column{AccountsColumns[11]},
				RefColumns: []*schema.Column{ItemsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "accounts_users_accounts",
				Columns:    []*schema.Column{AccountsColumns[12]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "account_user_id_is_active",
				Unique:  false,
				Columns: []*schema.Column{AccountsColumns[12], AccountsColumns[8]},
			},
			{
				Name:    "account_plaid_id",
				Unique:  true,
				Columns: []*schema.Column{AccountsColumns[1]},
			},
			{
				Name:    "account_item_id",
				Unique:  false,
				Columns: []*schema.Column{AccountsColumns[11]},
			},
		},
	}
	// ItemsColumns holds the columns for the "items" table.
	ItemsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "plaid_id", Type: field.TypeString, Unique: true},
		{Name: "access_token", Type: field.TypeString},
		{Name: "institution_name", Type: field.TypeString},
		{Name: "is_active", Type: field.TypeBool, Default: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "user_id", Type: field.TypeUUID},
	}
	// ItemsTable holds the schema information for the "items" table.
	ItemsTable = &schema.Table{
		Name:       "items",
		Columns:    ItemsColumns,
		PrimaryKey: []*schema.Column{ItemsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "items_users_items",
				Columns:    []*schema.Column{ItemsColumns[7]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "item_user_id_is_active",
				Unique:  false,
				Columns: []*schema.Column{ItemsColumns[7], ItemsColumns[4]},
			},
			{
				Name:    "item_plaid_id",
				Unique:  true,
				Columns: []*schema.Column{ItemsColumns[1]},
			},
		},
	}
	// PushSubscriptionsColumns holds the columns for the "push_subscriptions" table.
	PushSubscriptionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "endpoint", Type: field.TypeString},
		{Name: "p256dh", Type: field.TypeString},
		{Name: "auth", Type: field.TypeString},
		{Name: "active", Type: field.TypeBool, Default: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "user_id", Type: field.TypeUUID},
	}
	// PushSubscriptionsTable holds the schema information for the "push_subscriptions" table.
	PushSubscriptionsTable = &schema.Table{
		Name:       "push_subscriptions",
		Columns:    PushSubscriptionsColumns,
		PrimaryKey: []*schema.Column{PushSubscriptionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "push_subscriptions_users_push_subscriptions",
				Columns:    []*schema.Column{PushSubscriptionsColumns[7]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "pushsubscription_user_id_active",
				Unique:  false,
				Columns: []*schema.Column{PushSubscriptionsColumns[7], PushSubscriptionsColumns[4]},
			},
			{
				Name:    "pushsubscription_endpoint",
				Unique:  true,
				Columns: []*schema.Column{PushSubscriptionsColumns[1]},
			},
		},
	}
	// RulesColumns holds the columns for the "rules" table.
	RulesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "name", Type: field.TypeString},
		{Name: "category", Type: field.TypeEnum, Enums: []string{"Dining", "Groceries", "Transport", "Shopping", "Subscriptions", "Entertainment", "Bills", "Misc"}},
		{Name: "min_amount_cents", Type: field.TypeInt64, Nullable: true},
		{Name: "max_amount_cents", Type: field.TypeInt64, Nullable: true},
		{Name: "action_type", Type: field.TypeEnum, Enums: []string{"multiply", "fixed"}},
		{Name: "action_value", Type: field.TypeFloat64},
		{Name: "is_active", Type: field.TypeBool, Default: true},
		{Name: "priority", Type: field.TypeInt, Default: 0},
		{Name: "execution_count", Type: field.TypeInt, Default: 0},
		{Name: "total_saved_cents", Type: field.TypeInt64, Default: 0},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "target_account_id", Type: field.TypeUUID},
		{Name: "user_id", Type: field.TypeUUID},
	}
	// RulesTable holds the schema information for the "rules" table.
	RulesTable = &schema.Table{
		Name:       "rules",
		Columns:    RulesColumns,
		PrimaryKey: []*schema.Column{RulesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "rules_accounts_target_rules",
				Columns:    []*schema.Column{RulesColumns[13]},
				RefColumns: []*schema.Column{AccountsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "rules_users_rules",
				Columns:    []*schema.Column{RulesColumns[14]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "rule_user_id_is_active",
				Unique:  false,
				Columns: []*schema.Column{RulesColumns[14], RulesColumns[7]},
			},
			{
				Name:    "rule_category",
				Unique:  false,
				Columns: []*schema.Column{RulesColumns[2]},
			},
			{
				Name:    "rule_priority",
				Unique:  false,
				Columns: []*schema.Column{RulesColumns[8]},
			},
		},
	}
	// RuleExecutionsColumns holds the columns for the "rule_executions" table.
	RuleExecutionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "amount_cents", Type: field.TypeInt64},
		{Name: "source_account_id", Type: field.TypeUUID},
		{Name: "target_account_id", Type: field.TypeUUID},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"pending", "completed", "failed"}, Default: "pending"},
		{Name: "error_message", Type: field.TypeString, Nullable: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "completed_at", Type: field.TypeTime, Nullable: true},
		{Name: "rule_id", Type: field.TypeUUID},
		{Name: "transaction_id", Type: field.TypeUUID},
		{Name: "user_id", Type: field.TypeUUID},
	}
	// RuleExecutionsTable holds the schema information for the "rule_executions" table.
	RuleExecutionsTable = &schema.Table{
		Name:       "rule_executions",
		Columns:    RuleExecutionsColumns,
		PrimaryKey: []*schema.Column{RuleExecutionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "rule_executions_rules_executions",
				Columns:    []*schema.Column{RuleExecutionsColumns[8]},
				RefColumns: []*schema.Column{RulesColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "rule_executions_transactions_rule_executions",
				Columns:    []*schema.Column{RuleExecutionsColumns[9]},
				RefColumns: []*schema.Column{TransactionsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "rule_executions_users_rule_executions",
				Columns:    []*schema.Column{RuleExecutionsColumns[10]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "ruleexecution_rule_id_transaction_id",
				Unique:  true,
				Columns: []*schema.Column{RuleExecutionsColumns[8], RuleExecutionsColumns[9]},
			},
			{
				Name:    "ruleexecution_user_id_created_at",
				Unique:  false,
				Columns: []*schema.Column{RuleExecutionsColumns[10], RuleExecutionsColumns[6]},
			},
			{
				Name:    "ruleexecution_status",
				Unique:  false,
				Columns: []*schema.Column{RuleExecutionsColumns[4]},
			},
		},
	}
	// SavingsTransfersColumns holds the columns for the "savings_transfers" table.
	SavingsTransfersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "amount_cents", Type: field.TypeInt64},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"suggested", "approved", "executed", "cancelled", "failed"}, Default: "suggested"},
		{Name: "plaid_transfer_id", Type: field.TypeString, Nullable: true},
		{Name: "error_message", Type: field.TypeString, Nullable: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "executed_at", Type: field.TypeTime, Nullable: true},
		{Name: "source_account_id", Type: field.TypeUUID},
		{Name: "target_account_id", Type: field.TypeUUID},
		{Name: "rule_execution_id", Type: field.TypeUUID, Unique: true},
		{Name: "user_id", Type: field.TypeUUID},
	}
	// SavingsTransfersTable holds the schema information for the "savings_transfers" table.
	SavingsTransfersTable = &schema.Table{
		Name:       "savings_transfers",
		Columns:    SavingsTransfersColumns,
		PrimaryKey: []*schema.Column{SavingsTransfersColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "savings_transfers_accounts_outgoing_transfers",
				Columns:    []*schema.Column{SavingsTransfersColumns[7]},
				RefColumns: []*schema.Column{AccountsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "savings_transfers_accounts_incoming_transfers",
				Columns:    []*schema.Column{SavingsTransfersColumns[8]},
				RefColumns: []*schema.Column{AccountsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "savings_transfers_rule_executions_transfer",
				Columns:    []*schema.Column{SavingsTransfersColumns[9]},
				RefColumns: []*schema.Column{RuleExecutionsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "savings_transfers_users_savings_transfers",
				Columns:    []*schema.Column{SavingsTransfersColumns[10]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "savingstransfer_user_id_status",
				Unique:  false,
				Columns: []*schema.Column{SavingsTransfersColumns[10], SavingsTransfersColumns[2]},
			},
			{
				Name:    "savingstransfer_created_at",
				Unique:  false,
				Columns: []*schema.Column{SavingsTransfersColumns[5]},
			},
			{
				Name:    "savingstransfer_rule_execution_id",
				Unique:  true,
				Columns: []*schema.Column{SavingsTransfersColumns[9]},
			},
		},
	}
	// SyncCursorsColumns holds the columns for the "sync_cursors" table.
	SyncCursorsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "cursor", Type: field.TypeString, Default: ""},
		{Name: "last_sync_at", Type: field.TypeTime},
		{Name: "item_id", Type: field.TypeUUID, Unique: true},
	}
	// SyncCursorsTable holds the schema information for the "sync_cursors" table.
	SyncCursorsTable = &schema.Table{
		Name:       "sync_cursors",
		Columns:    SyncCursorsColumns,
		PrimaryKey: []*schema.Column{SyncCursorsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "sync_cursors_items_sync_cursor",
				Columns:    []*schema.Column{SyncCursorsColumns[3]},
				RefColumns: []*schema.Column{ItemsColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "synccursor_item_id",
				Unique:  true,
				Columns: []*schema.Column{SyncCursorsColumns[3]},
			},
		},
	}
	// TransactionsColumns holds the columns for the "transactions" table.
	TransactionsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "plaid_id", Type: field.TypeString, Unique: true},
		{Name: "amount", Type: field.TypeInt64},
		{Name: "date", Type: field.TypeTime},
		{Name: "name", Type: field.TypeString},
		{Name: "merchant_name", Type: field.TypeString, Nullable: true},
		{Name: "category", Type: field.TypeString, Default: "Misc"},
		{Name: "plaid_categories", Type: field.TypeJSON, Nullable: true},
		{Name: "pending", Type: field.TypeBool, Default: false},
		{Name: "payment_channel", Type: field.TypeString, Nullable: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "account_id", Type: field.TypeUUID},
	}
	// TransactionsTable holds the schema information for the "transactions" table.
	TransactionsTable = &schema.Table{
		Name:       "transactions",
		Columns:    TransactionsColumns,
		PrimaryKey: []*schema.Column{TransactionsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "transactions_accounts_transactions",
				Columns:    []*schema.Column{TransactionsColumns[12]},
				RefColumns: []*schema.Column{AccountsColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "transaction_account_id_date",
				Unique:  false,
				Columns: []*schema.Column{TransactionsColumns[12], TransactionsColumns[3]},
			},
			{
				Name:    "transaction_plaid_id",
				Unique:  true,
				Columns: []*schema.Column{TransactionsColumns[1]},
			},
			{
				Name:    "transaction_category",
				Unique:  false,
				Columns: []*schema.Column{TransactionsColumns[6]},
			},
			{
				Name:    "transaction_pending",
				Unique:  false,
				Columns: []*schema.Column{TransactionsColumns[8]},
			},
		},
	}
	// UsersColumns holds the columns for the "users" table.
	UsersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeUUID},
		{Name: "email", Type: field.TypeString, Unique: true},
		{Name: "password", Type: field.TypeBytes},
		{Name: "nickname", Type: field.TypeString},
		{Name: "custody_account_id", Type: field.TypeUUID, Nullable: true},
	}
	// UsersTable holds the schema information for the "users" table.
	UsersTable = &schema.Table{
		Name:       "users",
		Columns:    UsersColumns,
		PrimaryKey: []*schema.Column{UsersColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "users_users_custody_account",
				Columns:    []*schema.Column{UsersColumns[4]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		AccountsTable,
		ItemsTable,
		PushSubscriptionsTable,
		RulesTable,
		RuleExecutionsTable,
		SavingsTransfersTable,
		SyncCursorsTable,
		TransactionsTable,
		UsersTable,
	}
)

func init() {
	AccountsTable.ForeignKeys[0].RefTable = ItemsTable
	AccountsTable.ForeignKeys[1].RefTable = UsersTable
	ItemsTable.ForeignKeys[0].RefTable = UsersTable
	PushSubscriptionsTable.ForeignKeys[0].RefTable = UsersTable
	RulesTable.ForeignKeys[0].RefTable = AccountsTable
	RulesTable.ForeignKeys[1].RefTable = UsersTable
	RuleExecutionsTable.ForeignKeys[0].RefTable = RulesTable
	RuleExecutionsTable.ForeignKeys[1].RefTable = TransactionsTable
	RuleExecutionsTable.ForeignKeys[2].RefTable = UsersTable
	SavingsTransfersTable.ForeignKeys[0].RefTable = AccountsTable
	SavingsTransfersTable.ForeignKeys[1].RefTable = AccountsTable
	SavingsTransfersTable.ForeignKeys[2].RefTable = RuleExecutionsTable
	SavingsTransfersTable.ForeignKeys[3].RefTable = UsersTable
	SyncCursorsTable.ForeignKeys[0].RefTable = ItemsTable
	TransactionsTable.ForeignKeys[0].RefTable = AccountsTable
	UsersTable.ForeignKeys[0].RefTable = UsersTable
}
